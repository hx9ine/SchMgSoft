{% extends "base.html" %} {% load static %} {% block htmlhead %}
<!-- CSS -->
<link
  rel="stylesheet"
  type="text/css"
  href="{% static 'css/management/leave-requests.css' %}"
/>
{% endblock htmlhead %} {% block content %}
<div class="container">
  <h3>Leave Requests</h3>
  <!-- Leave Requests Table -->
  <div id="table-container">
    <table id="leave-request-teacher-table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Applicant's Name</th>
          <th>Date From</th>
          <th>Date To</th>
          <th>Duration</th>
          <th>Applied On</th>
          <th style="text-align: center">Status</th>
          <th style="text-align: center">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for leave_request in leave_requests %}
        <tr>
          <td>{{ leave_request.title }}</td>
          <td>
            {{ leave_request.applicant_id.first_name }} {{ leave_request.applicant_id.last_name }}
          </td>
          <td>{{ leave_request.date_from }}</td>
          <td>{{ leave_request.date_to }}</td>
          {% if leave_request.duration <= 1 %}
          <td>{{ leave_request.duration }} day</td>
          {% else %}
          <td>{{ leave_request.duration }} days</td>
          {% endif %}
          <td>{{ leave_request.created_at }}</td>
          <td style="position: relative">
            <span class="badge {{ leave_request.status|lower }}">
              <p>{{ leave_request.status }}</p>
            </span>
          </td>
          <td
            style="
              text-align: center;
              display: flex;
              align-items: center;
              justify-content: center;
            "
          >
            <a href="{% url "view-leave-request" leave_request.id %}" class="action-link">
              <p>View</p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-up-right"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M17 7l-10 10" />
                <path d="M8 7l9 0l0 9" />
              </svg>
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- JAVASCRIPT -->
<script
  src="{% static 'js/management/leave-requests.js' %}"
  type="text/javascript"
></script>
{% endblock %}
